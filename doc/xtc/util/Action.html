<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.6.0_27) on Wed Sep 04 23:01:47 EDT 2013 -->
<title>Action (xtc - the eXTensible Compiler)</title>
<meta name="date" content="2013-09-04">
<link rel="stylesheet" type="text/css" href="../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Action (xtc - the eXTensible Compiler)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Action.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>PREV CLASS</li>
<li><a href="../../xtc/util/EmptyIterator.html" title="class in xtc.util"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?xtc/util/Action.html" target="_top">FRAMES</a></li>
<li><a href="Action.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li>NESTED&nbsp;|&nbsp;</li>
<li>FIELD&nbsp;|&nbsp;</li>
<li>CONSTR&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li>FIELD&nbsp;|&nbsp;</li>
<li>CONSTR&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<p class="subTitle">xtc.util</p>
<h2 title="Interface Action" class="title">Interface Action&lt;T&gt;</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public interface <strong>Action&lt;T&gt;</strong></pre>
<div class="block">The interface to all actions.  An action implements a computation
 that takes a single argument and produces a single result.  Both
 argument and result have the same type so that actions can be
 trivially composed with each other.

 <p />Actions help in producing a left-recursive AST, even though
 the productions generating the individual AST nodes are
 right-recursive (as left-recursion is generally illegal for
 <i>Rats!</i>' grammars).  The basic idea is to create a <a href="../../xtc/util/Pair.html" title="class in xtc.util"><code>list</code></a> of actions during the right-recursion and then apply the
 actions onto the semantic value of the base case.

 <p />To illustrate this use of actions, consider the grammar rule
 for logical and expressions in C:<pre>
   <i>logical-and-expression</i> :
     <i>bitwise-or-expression</i>
     <i>logical-and-expression</i> <b>&&</b> <i>bitwise-or-expression</i>
 </pre>
 Since this grammar rule is left-recursive, it cannot directly be
 converted into the corresponding <i>Rats!</i> production and must
 be rewritten as a right-recursion.  At the same time, the
 corresponding AST should still be left-recursive, as the logical
 and operator is left-associative.

 <p />Using actions and <a href="../../xtc/tree/GNode.html" title="class in xtc.tree"><code>generic nodes</code></a> as
 semantic values, the corresponding right-recursive productions can
 be written as follows:<pre>
   Node LogicalAndExpression =
     base:BitwiseOrExpression list:LogicalAndExpressionTail*
       { yyValue = apply(list, base); }
     ;

   Action&lt;Node&gt; LogicalAndExpressionTail =
     "&&":Symbol right:BitwiseOrExpression
       { yyValue = new Action&lt;Node&gt;() {
           public Node run(Node left) {
             return GNode.create("LogicalAndExpression", left, right);
           }};
       }
     ;
 </pre>
 The semantic action for the <code>LogicalAndExpression</code>
 production relies on an <code>apply()</code> helper method, which
 can be written as following:<pre>
   &lt;T&gt; T apply(Pair&lt;Action&lt;T&gt;&gt; actions, T seed) {
     while (! actions.isEmpty()) {
       seed    = actions.head().run(seed);
       actions = actions.tail();
     }
     return seed;
   }
 </pre>
 In detail, the <code>LogicalAndExpressionTail</code> production
 recognizes logical and operators followed by the right operands.
 By using an action as its semantic value, the production delays the
 actual construction of the corresponding generic node.  Once all
 logical and operators and the corresponding bitwise or expressions
 have been parsed, the semantic action for the
 <code>LogicalAndExpression</code> production applies the actions
 and creates a left-recursive AST.  Note that this example assumes
 that the production for bitwise or expressions also has a generic
 node as its semantic value.  Further note that, if there is no
 logical and operator in the input, this example simply passes the
 semantic value of the single bitwise or expression through, which
 is the desired behavior as it leaves the AST unmodified.  Finally,
 note that direct left recursions may appear in generic productions,
 as <i>Rats!</i> automatically transforms them into the
 corresponding right-recursions while also creating left-recursive
 semantic values with the help of actions.</div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Revision: 1.10 $</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../xtc/util/Action.html" title="type parameter in Action">T</a></code></td>
<td class="colLast"><code><strong><a href="../../xtc/util/Action.html#run(T)">run</a></strong>(<a href="../../xtc/util/Action.html" title="type parameter in Action">T</a>&nbsp;arg)</code>
<div class="block">Perform this action.</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run(java.lang.Object)">
<!--   -->
</a><a name="run(T)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre><a href="../../xtc/util/Action.html" title="type parameter in Action">T</a>&nbsp;run(<a href="../../xtc/util/Action.html" title="type parameter in Action">T</a>&nbsp;arg)</pre>
<div class="block">Perform this action.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>arg</code> - The argument.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The result.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Action.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../index-files/index-1.html">Index</a></li>
<li><a href="../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>PREV CLASS</li>
<li><a href="../../xtc/util/EmptyIterator.html" title="class in xtc.util"><span class="strong">NEXT CLASS</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../index.html?xtc/util/Action.html" target="_top">FRAMES</a></li>
<li><a href="Action.html" target="_top">NO FRAMES</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>SUMMARY:&nbsp;</li>
<li>NESTED&nbsp;|&nbsp;</li>
<li>FIELD&nbsp;|&nbsp;</li>
<li>CONSTR&nbsp;|&nbsp;</li>
<li><a href="#method_summary">METHOD</a></li>
</ul>
<ul class="subNavList">
<li>DETAIL:&nbsp;</li>
<li>FIELD&nbsp;|&nbsp;</li>
<li>CONSTR&nbsp;|&nbsp;</li>
<li><a href="#method_detail">METHOD</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><center>(C) Copyright 2004-2011 Robert Grimm, New York University, IBM, and Princeton</center></small></p>
</body>
</html>
